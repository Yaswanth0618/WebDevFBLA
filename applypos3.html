<!-- Yaswanth Kandra-->
<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Metadata -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Favicon -->
  <link rel="icon" type="x-icon" href="images/CulHar_Logo-removebg.png" />
  <!-- Title -->
  <title>Application Waiter/Waitress</title>
  <!-- Font Awesome CSS link -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <!-- Custom CSS -->
  <link rel="stylesheet" href="main.css" />
  <!-- Main JavaScript -->
  <script src="main.js"></script>
</head>

<body>
  <!-- Header section -->
  <header>
    <!-- Logo and Text -->
    <a href="#" class="logo">
      <img src="images/CulHar_Logo-removebg.png" width="30px" />
      <div class="log_text">Culinary Harbor</div>
    </a>
    <!-- Navigation Menu -->
    <nav class="navbar">
      <!-- Navigation Links -->
      <a class="active" href="index.html">Home</a>
      <a href="menu.html">Menu</a>
      <a href="about.html">About</a>
      <a href="careers.html">Careers</a>
      <a href="why_us.html">Benefits</a>
      <a href="faq.html">FAQ</a>
    </nav>
    <!-- Apply Now Button -->
    <div class="apply_btn">
      <button class="btn"><a href="apply.html">Apply Now</a></button>
      <i class="fa-solid fa-bars" id="bar"></i>
    </div>
  </header>

  <!-- Main content -->
  <main>
    <!-- Section for job application form -->
    <section class="job-application-form"></section>

    <!-- Spacing -->
    <br>
    <br>
    <br>

    <!-- Title for the application form -->
    <h1 class="form-title">Waiter/Waitress Application Form</h1>
    <br>
    <!-- Application Form -->
    <form id="Waiter/Waitress Application Form" action="thankyou.html">
      <!-- Form Fields -->
      <label for="fullName">Full Name:</label>
      <input type="text" id="fullName" name="fullName" required />

      <label for="email">Email:</label>
      <input type="email" id="email" name="email" required />

      <label for="dob">Date of Birth:</label>
      <input type="date" id="dob" name="dob" required />

      <label for="address">Address</label>
      <input type="text" id="address" name="address" required placeholder="Street Address" />

      <!-- Address Fields -->
      <div class="address-fields">
        <input type="text" id="city" name="city" required placeholder="City" />
        <input type="text" id="state" name="state" required placeholder="State" />
        <input type="text" id="zip" name="zip" required placeholder="ZIP Code" />
      </div>

      <!-- Other Form Fields -->
      <label for="coverLetter">Cover Letter:</label>
      <textarea id="coverLetter" name="coverLetter" required></textarea>

      <label for="employmentHistory">Employment History:</label>
      <textarea id="employmentHistory" name="employmentHistory" required></textarea>

      <label for="accuracy">Explain how you ensure accuracy in taking orders and delivering them to customers.
      </label>
      <textarea id="accuracy" name="accuracy" required></textarea>

      <label for="whyWorkHere">Why do you want to work here?</label>
      <textarea id="whyWorkHere" name="whyWorkHere" required></textarea>

      <label for="expectedSalary">Expected Salary:</label>
      <input type="number" id="expectedSalary" name="expectedSalary" required />

      <label for="bestCandidateSkills">What skills make you the best candidate for this position?</label>
      <textarea id="bestCandidateSkills" name="bestCandidateSkills" required></textarea>

      <label for="motivationsAtWork">What motivations inspire you at work?</label>
      <textarea id="motivationsAtWork" name="motivationsAtWork" required></textarea>
      
      <!-- Submit Button -->
      <a href="thankyou.html" class="application1"><button type="submit" id="submit">Submit Application</button></a>
    </form>

    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
      import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js";

      document.addEventListener('DOMContentLoaded', function () {
        var form = document.getElementById('Waiter/Waitress Application Form');

        form.addEventListener('submit', function (event) {
          event.preventDefault(); // Prevent form submission

          if (validateForm()) {
            // Firebase configuration
            const firebaseConfig = {
              apiKey: "AIzaSyAO9zhttsR2jhYQPBpsNiAzBPPMD8ZJtno",
              authDomain: "fbla-restaurant-db.firebaseapp.com",
              databaseURL: "https://fbla-restaurant-db-default-rtdb.firebaseio.com",
              projectId: "fbla-restaurant-db",
              storageBucket: "fbla-restaurant-db.appspot.com",
              messagingSenderId: "1032671063739",
              appId: "1:1032671063739:web:93e3567aade232b2db839e"
            };

            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const db = getDatabase(app);

            // Data submission to Firebase
            set(ref(db, "fullName/" + document.getElementById("fullName").value), {
              applicationForm: "Waiter/Waitress Application Form",
              fullName: document.getElementById("fullName").value,
              email: document.getElementById("email").value,
              dob: document.getElementById("dob").value,
              address: document.getElementById("address").value,
              state: document.getElementById("state").value,
              zip: document.getElementById("zip").value,
              coverletter: document.getElementById("coverLetter").value,
              employmenthistory: document.getElementById("employmentHistory").value,
              accuracy: document.getElementById("accuracy").value,
              whyworkhere: document.getElementById("whyWorkHere").value,
              expectedsalary: document.getElementById("expectedSalary").value,
              bestcandidateskills: document.getElementById("bestCandidateSkills").value,
              motivationsatwork: document.getElementById("motivationsAtWork").value
            }).then(() => {
              alert("Application Received!");
              window.location.href = 'thankyou.html'; // Redirect to thankyou.html upon successful submission
            }).catch((error) => {
              console.error("Error adding document: ", error);
            });
          }
        });

        function validateForm() {
          var fullName = document.getElementById('fullName').value.trim();
          var email = document.getElementById('email').value.trim();
          var dob = document.getElementById('dob').value.trim();
          var address = document.getElementById('address').value.trim();

          if (fullName === '') {
            alert('Please enter your full name.');
            return false;
          }

          if (email === '' || !isValidEmail(email)) {
            alert('Please enter a valid email address.');
            return false;
          }

          var dobDate = new Date(dob);
          var eighteenYearsAgo = new Date();
          eighteenYearsAgo.setFullYear(eighteenYearsAgo.getFullYear() - 18);
          if (dobDate > eighteenYearsAgo) {
            alert('You must be at least 18 years old.');
            return false;
          }

          return true; // Form is valid
        }

        function isValidEmail(email) {
          return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
        }
      });
    </script>
    <script src="main.js"></script>
  </main>



</body>

</html>