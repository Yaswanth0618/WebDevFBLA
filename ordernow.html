<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Metadata -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Favicon -->
  <link rel="icon" type="x-icon" href="images/CulHar_Logo-removebg.png" />
  <!-- Title -->
  <title>Apply</title>
  <!--Animation on Scroll library-->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <!-- Font Awesome CSS link -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <!-- Custom CSS -->
  <link rel="stylesheet" href="main.css">
  <!-- Custom JavaScript -->
  <script src="main.js"></script>
</head>

<body>
  <!-- Header section -->
  <header>
    <!-- Logo -->
    <a href="#" class="logo">
      <img src="images/CulHar_Logo-removebg.png" width="30px" />
      <div class="log_text">Culinary Harbor</div>
    </a>

    <!-- Navigation Menu -->
    <nav class="navbar">
      <a href="index.html">Home</a>
      <a href="menu.html">Menu</a>
      <a href="about.html">About</a>
      <a href="careers.html">Careers</a>
      <a href="why_us.html">Benefits</a>
      <a href="faq.html">FAQ</a>
      <a href="ordernow.html">Order Now</a>
      
    </nav>

    <!-- Apply Now Button -->
    <div class="apply_btn">
      <button class="btn"><a href="apply.html">Apply Now</a></button>
      <i class="fa-solid fa-bars" id="bar"></i>
    </div>
  </header>

  <main>
    <br>
    <br>
    <br>
    <br>
    <div class="heading1">
      <h1>Order Now</h1>
    </div>

    <div class="food-ordering modal-content">

      <div id="order-details">
        <h2 class="cuisine"> Order Details</h2>
      </div>
      <h2 class="cuisine"> Checkout</h2>
      <h3>Total: $<span id="total-price">0.00</span></h3>
      <button id="checkout-button">Checkout</button>

    </div>
</main>

<!-- Include the generated React bundle -->
<script src="react-section/build/static/js/main.93ad4f55.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        const itemsArray = [
        { id: '1', name: 'Fish Tacos', price: 7.99 },
        { id: '2', name: 'Deep Dish Pizza', price: 12.99 },
        { id: '3', name: 'Fried Catfish', price: 10.99 },
        { id: '4', name: 'Fried Green Tomatoes', price: 7.99 },
        { id: '5', name: 'Lobster Mac & Cheese', price: 9.99 },
        { id: '6', name: 'Bobotie', price: 11.99 },
        { id: '7', name: 'Couscous', price: 10.99 },
        { id: '8', name: 'Fufu and Soup', price: 11.99 },
        { id: '9', name: 'Jollof Rice', price: 10.99 },
        { id: '10', name: 'Maatoke', price: 9.99 },
        { id: '11', name: 'Chicken Fried Rice', price: 11.99 },
        { id: '12', name: 'Noodles with Meatballs', price: 9.99 },
        { id: '13', name: 'Spicy Citrus Noodles', price: 9.99 },
        { id: '14', name: 'Stir Fry Noodles', price: 9.99 },
        { id: '15', name: 'Vegetable Dim Sum Soup', price: 9.99 },
        { id: '16', name: 'Bisque', price: 9.99 },
        { id: '17', name: 'Bouillabaisse', price: 12.99 },
        { id: '18', name: 'Croque Monsieur', price: 10.99 },
        { id: '19', name: 'French Onion Soup', price: 9.99 },
        { id: '20', name: 'Ratatouille', price: 10.99 },
        { id: '21', name: 'Butter Chicken with Naan', price: 12.99 },
        { id: '22', name: 'Dosa with Sambar', price: 12.99 },
        { id: '23', name: 'Hyderabadi Chicken Biryani', price: 12.99 },
        { id: '24', name: 'Samosas with Chutney', price: 9.99 },
        { id: '25', name: 'Tandoori Roti', price: 7.99 },
        { id: '26', name: 'Onigiri', price: 9.99 },
        { id: '27', name: 'Sushi and Sashimi', price: 11.99 },
        { id: '28', name: 'Takoyaki', price: 9.99 },
        { id: '29', name: 'Tempura', price: 9.99 },
        { id: '30', name: 'Yakitori', price: 10.99 },
        { id: '31', name: 'Green Curry', price: 10.99 },
        { id: '32', name: 'Pad Thai', price: 10.99 },
        { id: '33', name: 'Panang curry', price: 10.99 },
        { id: '34', name: 'Spicy Green Papaya Salad', price: 9.99 }
            // Add more items as needed
        ];


        /*
        */
        const orderDetailsDiv = document.getElementById('order-details');
        const totalPriceSpan = document.getElementById('total-price');

        let totalPrice = 0;

        cart.forEach((cartItem, index) => {
            // Find the corresponding item in itemsArray
            const itemInfo = itemsArray.find(item => item.id === cartItem.id);

            if (itemInfo) {
                const itemDiv = document.createElement('div');
                itemDiv.className = 'cart-item';
                itemDiv.innerHTML = `
                    <p>${itemInfo.name} - $${itemInfo.price.toFixed(2)} x ${cartItem.quantity}</p>
                    <button data-index="${index}" data-id="${cartItem.id}" class="remove-button">Remove</button>
                `;
                orderDetailsDiv.appendChild(itemDiv);

                totalPrice += itemInfo.price * cartItem.quantity;
            }
        });

        totalPriceSpan.textContent = totalPrice.toFixed(2);

        orderDetailsDiv.addEventListener('click', (event) =>

{
            if (event.target.classList.contains('remove-button')) {
                const index = event.target.getAttribute('data-index');
                const id = event.target.getAttribute('data-id');
                const updatedCart = cart.filter((cartItem, i) => i != index || cartItem.id !== id);
                localStorage.setItem('cart', JSON.stringify(updatedCart));
                window.location.reload(); // Refresh the page to update the cart
            }
        });

        document.getElementById('checkout-button').addEventListener('click', () => {
            // Implement checkout functionality here
            alert('Proceeding to checkout...');
        });
    });
</script>
</body>
</html>